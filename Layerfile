# Set the image
FROM ubuntu:20.04

MEMORY 2G

# Install curl and sudo
RUN apt-get update && apt-get install -y curl sudo

# Install Node.js 18.x
RUN curl -sL https://deb.nodesource.com/setup_18.x | sudo -E bash -
RUN sudo apt-get install -y nodejs

# Install the latest version of npm
RUN sudo npm install npm@latest -g

ENV NODE_OPTIONS=--max-old-space-size=8192

COPY . .

RUN npm install

RUN BACKGROUND npm start

EXPOSE WEBSITE http://localhost:3000
